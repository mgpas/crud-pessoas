{% extends "base.html" %}

{% block content %}
    <h2>Cadastrar Nova Pessoa</h2>
    <form method="POST" action="{{ url_for('cadastrar_pessoa') }}">
        <div class="form-group">
            <label for="nome">Nome:</label>
            <!-- 🐛 BUG-003 Fix - Adicionados atributos 'required' nos campos do formulário -->
            <!-- 🐛 BUG-007 Fix - Adicionada validação com pattern para aceitar apenas letras com espaços -->
            <!-- 🐛 BUG-011 Fix - Adicionado maxlength -->
            <!-- 🐛 BUG-014 Fix - Manter dados já preenchidos ao receber erro -->
            <input type="text" id="nome" name="nome" required maxlength="100" pattern="[A-Za-zÀ-ÿ\s]+" title="Apenas letras são permitidas." value="{{ dados.nome if dados else '' }}">
        </div>
        
        <div class="form-group">
            <label for="sobrenome">Sobrenome:</label>
            <!-- 🐛 BUG-003 Fix - Adicionados atributos 'required' nos campos do formulário -->
            <!-- 🐛 BUG-007 Fix - Adicionada validação com pattern para aceitar apenas letras com espaços -->
            <!-- 🐛 BUG-011 Fix - Adicionado maxlength -->
            <!-- 🐛 BUG-014 Fix - Manter dados já preenchidos ao receber erro -->
            <input type="text" id="sobrenome" name="sobrenome" required maxlength="100" pattern="[A-Za-zÀ-ÿ\s]+" title="Apenas letras são permitidas." value="{{ dados.sobrenome if dados else '' }}">
        </div>
        
        <div class="form-group">
            <label for="cpf">CPF:</label>
            <!-- 🐛 BUG-003 Fix - Adicionados atributos 'required' nos campos do formulário -->
            <!-- 🐛 BUG-014 Fix - Manter dados já preenchidos ao receber erro -->
            <input type="text" id="cpf" name="cpf" required value="{{ dados.cpf if dados else '' }}">
        </div>
        
        <div class="form-group">
            <label for="data_nascimento">Data de Nascimento:</label>
            <!-- 🐛 BUG-003 Fix - Adicionados atributos 'required' nos campos do formulário -->
            <!-- 🐛 BUG-014 Fix - Manter dados já preenchidos ao receber erro -->
            <input type="date" id="data_nascimento" name="data_nascimento" required value="{{ dados.data_nascimento if dados else '' }}">
        </div>
        
        <button type="submit">Cadastrar</button>
        <a href="{{ url_for('index') }}" class="btn">Cancelar</a>
    </form>
{% endblock %}